define(function(require) {
	var $ = require('jquery')
      , highcharts = require('highcharts')
      , selectpicker = require('bootstrap-select')
      , datapicker = require('bootstrap-datetimepicker.min')
      ;
	(function() {
    //时间控件
        $(".datepicker").datetimepicker();
    //选择控件
        $('.selectpicker').selectpicker();
	}());	
        var dyrb_data = [
                            ["2014/12/29 0:00",     296.69, 1000,   47.87,  43.74,  14, 13.6,   11.67,  0,  242.04, 0,  481.48, 588.67, 155.06, 516.8,  444.38, 183],
                            ["2014-12-29 01:00",	296.87,	1000,	48.1,	43.98,	14,	13.6,	11.65,	0,	243.51,	0,	483.12,	590.27,	155.02,	518.31,	442.16,	183.05],
                            ["2014-12-29 02:00",	296.57,	1000,	47.99,	43.86,	14,	13.6,	11.63,	0,	242.39,	0,	481,	588.39,	155.06,	516.82,	439.79,	183],
                            ["2014-12-29 03:00",	296.65,	1000,	48.11,	43.98,	14,	13.6,	11.64,	0,	243.19,	0,	481.61,	588.96,	154.91,	517.51,	437.54,	183.3],
                            ["2014-12-29 04:00",	296.87,	1000,	48.17,	44.06,	14,	13.6,	11.65,	0,	243.33,	0,	481.77,	589.04,	154.98,	517.14,	435.45,	183.13],
                            ["2014-12-29 05:00",	296.69,	1000,	48.17,	44.04,	14,	13.6,	11.64,	0,	243.02,	0,	481.26,	588.59,	155.02,	515.96,	433.38,	182.98],
                            ["2014-12-29 06:00",	296.72,	1000,	48.06,	43.93,	14,	13.6,	11.62,	0,	242.24,	0,	478.79,	585.46,	155.31,	519.27,	430.24,	182.83],
                            ["2014-12-29 07:00",	296.44,	1000,	47.78,	43.67,	14,	13.6,	11.63,	0,	241.57,	0,	475.8,	581.92,	155.28,	518.42,	427.14,	183.77],
                            ["2014-12-29 08:00",	293.59,	1000,	47.62,	43.08,	14,	13.55,	11.4,	0,	233.11,	52.12,	475.57,	581.48,	155.93,	515.18,	584.19,	183.01],
                            ["2014-12-29 09:00",	281.61,	1000,	47.6,	42.81,	14,	13.46,	11.32,	0,	160.55,	162.68,	473.96,	580.28,	155.56,	510.67,	577.3,	183.34],
                            ["2014-12-29 10:00",	280.88,	1000,	47.63,	42.83,	14,	13.4,	11.28,	0,	160.27,	162.12,	475.03,	581.43,	155.66,	508.49,	568.68,	182.99],
                            ["2014-12-29 11:00",	280.45,	1000,	47.74,	42.92,	14,	13.33,	11.2,	0,	160.86,	162.9,	476.95,	583.28,	155.84,	508.56,	561.62,	183.21],
                            ["2014-12-29 12:00",	280.15,	1000,	48.12,	43.32,	14,	13.3,	11.2,	0,	162.25,	164.56,	480.8,	587.26,	155.65,	511.27,	555.13,	183.17],
                            ["2014-12-29 13:00",	282.25,	1000,	48.46,	43.76,	14,	13.3,	11.29,	0,	161.52,	162.45,	485.51,	592.13,	155.57,	514.8,	549.08,	183.07],
                            ["2014-12-29 14:00",	285.96,	1000,	48.07,	43.81,	14,	13.32,	11.25,	0,	157.94,	157.43,	479.74,	586.17,	155.74,	508.84,	542.49,	183.31],
                            ["2014-12-29 15:00",	286.42,	1000,	47.92,	43.74,	14,	13.39,	11.21,	0,	157.18,	157.04,	450.58,	557.06,	155.37,	479.97,	536.23,	182.85],
                            ["2014-12-29 16:00",	286.86,	1000,	47.97,	43.85,	14,	13.4,	11.2,	0,	157.18,	157,	445.81,	552.18,	155.8,	476.55,	530.08,	182.69],
                            ["2014-12-29 17:00",	287.31,	1000,	48.18,	44.09,	14,	13.4,	11.21,	0,	158.37,	158.16,	475.95,	582.46,	155.76,	508.32,	524.13,	182.96],
                            ["2014-12-29 18:00",	287.96,	1000,	48.3,	44.26,	14,	13.4,	11.27,	0,	159.26,	159.33,	494.48,	600.81,	155.91,	526.97,	519.22,	182.88],
                            ["2014-12-29 19:00",	288.07,	1000,	48.28,	44.24,	14,	13.4,	11.3,	0,	158.78,	158.92,	495.7,	602.53,	155.84,	525.46,	515.18,	182.95],
                            ["2014-12-29 20:00",	298.65,	1000,	48.33,	44.53,	14,	13.49,	11.49,	0,	223.75,	34.24,	498.87,	605.97,	156.16,	530,	510.55,	182.86],
                            ["2014-12-29 21:00",	299.34,	1000,	48.07,	44.29,	14,	13.5,	11.51,	0,	241.86,	0,	497.41,	604.51,	155.78,	531.31,	505.86,	182.74],
                            ["2014-12-29 22:00",	298.77,	1000,	48.31,	44.51,	14,	13.55,	11.5,	0,	243.59,	0,	500.97,	608.07,	155.84,	535.3,	501.52,	182.85],
                            ["2014-12-29 23:00",	298.49,	1000,	48.35,	44.56,	14,	13.6,	11.5,	0,	243.05,	0,	501.71,	608.68,	155.47,	535.66,	497.53,	182.85]
        ];

        var guolu_data = [
                            ["2014-12-29 00:00",	0,	0.44,	0,	28.95,	0,	0,	70.91,	0,	0,	0.36,	0,	16.65,	0,	0,	15.81,	0,	0,	0.46,	153.06,	29.44,	27.7,	0],
                            ["2014-12-29 01:00",	0,	0.45,	0,	35.39,	0,	0,	65.28,	0,	0,	0.37,	0,	16.44,	0,	0,	15.35,	0,	0,	0.47,	153.77,	27.3,	26.6,	0],
                            ["2014-12-29 02:00",	0,	0.44,	0,	26.1,	0,	0,	70.24,	0,	0,	0.37,	0,	16.2,	0,	0,	14.96,	0,	0,	0.47,	153.79,	27.18,	26.53,	0],
                            ["2014-12-29 03:00",	0,	0.44,	0,	32.01,	0,	0,	64.24,	0,	0,	0.36,	0,	15.99,	0,	0,	14.63,	0,	0,	0.46,	153.24,	27.08,	26.41,	0],
                            ["2014-12-29 04:00",	0,	0.42,	0,	40.12,	0,	0,	80.49,	0,	0,	0.35,	0,	15.98,	0,	0,	14.37,	0,	0,	0.44,	152.31,	46.79,	33.87,	0],
                            ["2014-12-29 05:00",	0,	0.48,	0,	50.11,	0,	0,	83.59,	0,	0,	0.4,	0,	16.29,	0,	0,	14.24,	0,	0,	0.5,	156.43,	64.25,	49.81,	0],
                            ["2014-12-29 06:00",	0,	0.45,	0,	46.45,	0,	0,	69.13,	0,	0,	0.37,	0,	15.68,	0,	0,	13.95,	0,	0,	0.47,	154.61,	56.6,	55.71,	0],
                            ["2014-12-29 07:00",	0,	0.44,	0,	37.42,	0,	0,	69.29,	0,	0,	0.37,	0,	14.61,	0,	0,	13.46,	0,	0,	0.46,	153.16,	40.61,	44.53,	0],
                            ["2014-12-29 08:00",	0,	0.44,	0,	35.63,	0,	0,	79.27,	0,	0,	0.36,	0,	13.99,	0,	0,	13.01,	0,	0,	0.42,	150.87,	32.95,	41.07,	0],
                            ["2014-12-29 09:00",	0,	0.44,	0,	45.84,	0,	0,	78.13,	0,	0,	0.37,	0,	13.97,	0,	0,	12.75,	0,	0,	0.41,	151.38,	33.65,	41.89,	0],
                            ["2014-12-29 10:00",	0,	0.45,	0,	41.79,	0,	0,	78.01,	0,	0,	0.37,	0,	15.29,	0,	0,	12.71,	0,	0,	0.43,	151.73,	33.87,	43.69,	0],
                            ["2014-12-29 11:00",	0,	0.43,	0,	37.2,	0,	0,	72.01,	0,	0,	0.36,	0,	18.41,	0,	0,	13.21,	0,	0,	0.45,	153.38,	33.88,	42.17,	0],
                            ["2014-12-29 12:00",	0,	0.44,	0,	37.04,	0,	0,	71.62,	0,	0,	0.36,	0,	22.02,	0,	0,	13.79,	0,	0,	0.44,	152.71,	34.32,	41.08,	0],
                            ["2014-12-29 13:00",	0,	0.44,	0,	39.58,	0,	0,	70.11,	0,	0,	0.37,	0,	38.5,	0,	0,	79.33,	0,	0,	0.44,	152.6,	34.68,	40.9,	0],
                            ["2014-12-29 14:00",	0,	0.46,	0,	37.02,	0,	0,	56.06,	0,	0,	0.39,	0,	41.73,	0,	0,	81.58,	0,	0,	0.47,	154.85,	43,	    34.84,	0],
                            ["2014-12-29 15:00",	0,	0.41,	0,	31.35,	0,	0,	50.98,	0,	0,	0.35,	0,	49.2,	0,	0,	88.29,	0,	0,	0.39,	149.78,	55.67,	42.83,	0],
                            ["2014-12-29 16:00",	0,	0.44,	0,	41.42,	0,	0,	47.91,	0,	0,	0.37,	0,	51.24,	0,	0,	92.66,	0,	0,	0.44,	153.07,	62.06,	48.87,	0],
                            ["2014-12-29 17:00",	0,	0.44,	0,	31.19,	0,	0,	44.68,	0,	0,	0.37,	0,	54.63,	0,	0,	93.41,	0,	0,	0.46,	154.6,	68.39,	54.93,	0],
                            ["2014-12-29 18:00",	0,	0.44,	0,	28.54,	0,	0,	41.54,	0,	0,	0.37,	0,	47.13,	0,	0,	82.65,	0,	0,	0.47,	154.99,	59.34,	57.31,	0],
                            ["2014-12-29 19:00",	0,	0.48,	0,	26.95,	0,	0,	36.66,	0,	0,	0.41,	0,	47.42,	0,	0,	72.06,	0,	0,	0.51,	156.15,	56.98,	56.5,	0],
                            ["2014-12-29 20:00",	0,	0.46,	0,	22.56,	0,	0,	36.17,	0,	0,	0.39,	0,	36.79,	0,	0,	70.85,	0,	0,	0.48,	154.48,	54.61,	49.39,	0],
                            ["2014-12-29 21:00",	0,	0.45,	0,	19.95,	0,	0,	36, 	0,	0,	0.38,	0,	40,	    0,	0,	65.44,	0,	0,	0.48,	154.06,	55.12,	48.4,	0],
                            ["2014-12-29 22:00",	0,	0.46,	0,	18.27,	0,	0,	36.68,	0,	0,	0.39,	0,	35.53,	0,	0,	70.96,	0,	0,	0.48,	154.05,	34.93,	41.68,	0],
                            ["2014-12-29 23:00",	0,	0.46,	0,	17.39,	0,	0,	37.43,	0,	0,	0.39,	0,	33.27,	0,	0,	66.97,	0,	0,	0.48,	154.4,	28.25,	41.95,	0]    
        ];

        $('#reportTemplateSelect').change(
            function () {
                //var index = $(this).attr("selectedIndex");
                var index = $('#reportTemplateSelect')[0].selectedIndex;
                if (index == 0)
                {
                    $('#tabDyrb').show();
                    $('#tabGlyx').hide();
                    $('#tabYrxt').hide();
                    $('#btnPopPicture').attr("data-target", "#myModal-dyrb");
                    //$('#btnPopPicture').data("data-target", "#myModal-dyrb");
                }
                else if(index == 1)
                {
                    $('#tabDyrb').hide();
                    $('#tabGlyx').show();
                    $('#tabYrxt').hide();
                    $('#btnPopPicture').attr("data-target", "#myModal-guolu");
                }
                else if (index == 2) {
                    $('#tabDyrb').hide();
                    $('#tabGlyx').hide();
                    $('#tabYrxt').show();
                }
        });

        $(".datepicker").datepicker();
        $('.selectpicker').selectpicker();

        $('#tabDyrb').show();
        $('#tabGlyx').hide();
        $('#tabYrxt').hide();



        function generateOneLineHtml(oneLineData)
        {
            var thisLineHtml = '<tr>';
            for (var i = 0; i < oneLineData.length; i++)
            {
                var oneColumn = '<td style="width: 300px; text-align: center; vertical-align: middle; word-wrap: break-word;">' +
                                oneLineData[i] +
                                '</td>';
                thisLineHtml = thisLineHtml + oneColumn;
            }
            thisLineHtml = thisLineHtml + '</tr>';
            return thisLineHtml;
        }



        for (var i = 0; i < dyrb_data.length; i++)
        {
            $('#tbyDyrb').append(generateOneLineHtml(dyrb_data[i]));

        }

        for (var i = 0; i < guolu_data.length; i++)
        {
            $('#tbyGuolu').append(generateOneLineHtml(guolu_data[i]));
        }

        //图 
        $(function () {
            $('#hc_dyrb').highcharts({                         //#container
                //chart: {
                //    zoomType: 'xy'
                //},
                title: {
                    text: '地源热泵运行记录表'
                },
                subtitle: {
                    //text: 'Source: WorldClimate.com'
                },
                xAxis: [{
                    //type: 'datetime',
                    categories: ['2014/12/29  0:00:00', '2014-12-29 01:00', '2014-12-29 03:00', '2014-12-29 04:00', '2014-12-29 05:00', '2014-12-29 06:00', '2014-12-29 07:00', '2014-12-29 08:00', '2014-12-29 09:00', '2014-12-29 10:00', '2014-12-29 11:00', '2014-12-29 12:00', '2014-12-29 13:00', '2014-12-29 14:00', '2014-12-29 15:00', '2014-12-29 16:00', '2014-12-29 17:00', '2014-12-29 18:00', '2014-12-29 19:00', '2014-12-29 20:00', '2014-12-29 21:00', '2014-12-29 22:00', '2014-12-29 23:00']
                }],
                yAxis: [
                    { // No.0 yAxis
                        gridLineWidth: 0,
                        title: {
                            text: '吸气压力',
                            style: {
                                color: '#AA4643'
                            }
                        },
                        labels: {
                            formatter: function() {
                                return this.value +'Mpa';
                            },
                            style: {
                                color: '#AA4643'
                            }
                        },
                        opposite: true
                    },
                    { // No.1 yAxis
                        gridLineWidth: 0,
                        title: {
                            text: '流量',
                            style: {
                                color: '#4572A7'
                            }
                        },
                        labels: {
                            formatter: function () {
                                return this.value + 'm³/h';
                            },
                            style: {
                                color: '#4572A7'
                            }
                        }

                    },
                    { // No.2 yAxis
                    labels: {
                        formatter: function() {
                            return this.value +'°C';
                        },
                        style: {
                            color: '#89A54E'
                        }
                    },
                    title: {
                        text: '出水温度',
                        style: {
                            color: '#89A54E'
                        }
                    },
                    opposite: true

                    },
                ],
                tooltip: {
                    shared: true
                },
                legend: {
                    layout: 'vertical',
                    align: 'left',
                    x: 120,
                    verticalAlign: 'top',
                    y: 80,
                    floating: true,
                    backgroundColor: '#FFFFFF'
                },
                series: [{
                    name: '吸气压力',
                    color: '#AA4643',
                    type: 'spline',
                    yAxis: 0,
                    data: [
296.69,
296.87,
296.57,
296.65,
296.87,
296.69,
296.72,
296.44,
293.59,
281.61,
280.88,
280.45,
280.15,
282.25,
285.96,
286.42,
286.86,
287.31,
287.96,
288.07,
298.65,
299.34,
298.77,
298.49

                ],
                    tooltip: {
                        valueSuffix: 'Mpa'
                    }

                }, {
                    name: '流量',
                    type: 'spline',
                    color: '#4572A7',
                    yAxis: 1,
                    data: [
183,
183.05,
183,
183.3,
183.13,
182.98,
182.83,
183.77,
183.01,
183.34,
182.99,
183.21,
183.17,
183.07,
183.31,
182.85,
182.69,
182.96,
182.88,
182.95,
182.86,
182.74,
182.85,
182.85

                ],
                    marker: {
                        enabled: false
                    },
                    dashStyle: 'shortdot',
                    tooltip: {
                        valueSuffix: 'm³/h'
                    }


                }, {
                    name: '出水温度',
                    color: '#89A54E',
                    type: 'spline',
                    yAxis: 2,
                    data: [47.87,
48.1,
47.99,
48.11,
48.17,
48.17,
48.06,
47.78,
47.62,
47.6,
47.63,
47.74,
48.12,
48.46,
48.07,
47.92,
47.97,
48.18,
48.3,
48.28,
48.33,
48.07,
48.31,
48.35
                ],
                    tooltip: {
                        valueSuffix: ' °C'
                    }
                }]
            });
        });

        $(function () {
            $('#hc_guolu').highcharts({                         //#container
                //chart: {
                //    zoomType: 'xy'
                //},
                title: {
                    text: '锅炉运行记录表'
                },
                subtitle: {
                    //text: 'Source: WorldClimate.com'
                },
                xAxis: [{
                    //type: 'datetime',
                    categories: ['2014/12/29  0:00:00', '2014-12-29 01:00', '2014-12-29 03:00', '2014-12-29 04:00', '2014-12-29 05:00', '2014-12-29 06:00', '2014-12-29 07:00', '2014-12-29 08:00', '2014-12-29 09:00', '2014-12-29 10:00', '2014-12-29 11:00', '2014-12-29 12:00', '2014-12-29 13:00', '2014-12-29 14:00', '2014-12-29 15:00', '2014-12-29 16:00', '2014-12-29 17:00', '2014-12-29 18:00', '2014-12-29 19:00', '2014-12-29 20:00', '2014-12-29 21:00', '2014-12-29 22:00', '2014-12-29 23:00']
                }],
                yAxis: [
                    { // No.0 yAxis
                        gridLineWidth: 0,
                        title: {
                            text: '蒸汽压力',
                            style: {
                                color: '#AA4643'
                            }
                        },
                        labels: {
                            formatter: function () {
                                return this.value + 'Mpa';
                            },
                            style: {
                                color: '#AA4643'
                            }
                        },
                        opposite: true
                    },
                    { // No.1 yAxis
                        gridLineWidth: 0,
                        title: {
                            text: '进水初温',
                            style: {
                                color: '#4572A7'
                            }
                        },
                        labels: {
                            formatter: function () {
                                return this.value + '°C';
                            },
                            style: {
                                color: '#4572A7'
                            }
                        }

                    },
                    { // No.2 yAxis
                        labels: {
                            formatter: function () {
                                return this.value + '°C';
                            },
                            style: {
                                color: '#89A54E'
                            }
                        },
                        title: {
                            text: '排烟初温',
                            style: {
                                color: '#89A54E'
                            }
                        },
                        opposite: true

                    },
                ],
                tooltip: {
                    shared: true
                },
                legend: {
                    layout: 'vertical',
                    align: 'left',
                    x: 120,
                    verticalAlign: 'top',
                    y: 80,
                    floating: true,
                    backgroundColor: '#FFFFFF'
                },
                series: [{
                    name: '蒸汽压力',
                    color: '#AA4643',
                    type: 'spline',
                    yAxis: 0,
                    data: [
0.44,
0.45,
0.44,
0.44,
0.42,
0.48,
0.45,
0.44,
0.44,
0.44,
0.45,
0.43,
0.44,
0.44,
0.46,
0.41,
0.44,
0.44,
0.44,
0.48,
0.46,
0.45,
0.46,
0.46
                    ],
                    tooltip: {
                        valueSuffix: 'Mpa'
                    }

                }, {
                    name: '进水初温',
                    type: 'spline',
                    color: '#4572A7',
                    yAxis: 1,
                    data: [
28.95,
35.39,
26.1,
32.01,
40.12,
50.11,
46.45,
37.42,
35.63,
45.84,
41.79,
37.2,
37.04,
39.58,
37.02,
31.35,
41.42,
31.19,
28.54,
26.95,
22.56,
19.95,
18.27,
17.39
                    ],
                    marker: {
                        enabled: false
                    },
                    dashStyle: 'shortdot',
                    tooltip: {
                        valueSuffix: '°C'
                    }


                }, {
                    name: '排烟初温',
                    color: '#89A54E',
                    type: 'spline',
                    yAxis: 2,
                    data: [
70.91,
65.28,
70.24,
64.24,
80.49,
83.59,
69.13,
69.29,
79.27,
78.13,
78.01,
72.01,
71.62,
70.11,
56.06,
50.98,
47.91,
44.68,
41.54,
36.66,
36.17,
36,
36.68,
37.43
                    ],
                    tooltip: {
                        valueSuffix: '°C'
                    }
                }]
            });
        });

});
